{"version":3,"file":"js/339.aec9a1d0.js","mappings":"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","sources":["webpack://gene-curator/./src/components/GeneDetailCard.vue","webpack://gene-curator/./src/components/GeneDetailCard.vue?712e","webpack://gene-curator/./src/views/GeneDetail.vue","webpack://gene-curator/./src/views/GeneDetail.vue?6fb9"],"sourcesContent":["<!-- components/GeneDetailCard.vue -->\n<template>\n  <v-container>\n    <v-card v-if=\"gene\" class=\"mx-auto my-4\" max-width=\"800\">\n      <v-card-title v-if=\"showTitle\" class=\"headline\">{{ gene.approved_symbol }}</v-card-title>\n      <v-card-text>\n        <v-table density=\"compact\">\n          <tbody>\n            <template v-for=\"(value, key) in filteredGeneDetails\" :key=\"key\">\n              <tr>\n                <td>\n                  <strong>\n                    <span class=\"label-hover\" :title=\"value.description\">{{ value.label }}</span>\n                    <v-tooltip\n                      activator=\"parent\"\n                      location=\"start\"\n                    >\n                      {{ value.description }}\n                    </v-tooltip>\n                  </strong>\n                </td>\n                <td v-html=\"value.formattedValue\"></td>\n              </tr>\n            </template>\n          </tbody>\n        </v-table>\n      </v-card-text>\n    </v-card>\n    <v-alert v-else type=\"error\">\n      Gene not found or failed to load.\n    </v-alert>\n  </v-container>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue';\nimport { getGeneByHGNCIdOrSymbol } from '@/stores/geneStore';\nimport { geneDetailsConfig } from '@/config/workflows/KidneyGeneticsGeneCuration/workflowConfig';\n\nexport default {\n  props: {\n    id: String,\n    visibilityScope: {\n      type: String,\n      default: 'standardView', // or 'curationView'\n    },\n    showTitle: { // New prop for showing the card title\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props, { emit }) {\n    const gene = ref(null);\n\n    onMounted(async () => {\n      if (props.id) {\n        try {\n          const fetchedGene = await getGeneByHGNCIdOrSymbol(props.id);\n          gene.value = fetchedGene;\n          emit('gene-data-loaded', fetchedGene); // Emit an event with the gene data\n        } catch (error) {\n          console.error('Error fetching gene:', error.message);\n        }\n      }\n    });\n\n    const filteredGeneDetails = computed(() => {\n      if (!gene.value) return [];\n\n      return Object.entries(geneDetailsConfig)\n        .filter(([, fieldConfig]) => fieldConfig.visibility[props.visibilityScope])\n        .map(([key, fieldConfig]) => {\n          const value = gene.value[key];\n          return {\n            label: fieldConfig.label,\n            description: fieldConfig.description || '',\n            formattedValue: formatValue(value, fieldConfig),\n          };\n        });\n    });\n\n    // for now objects and arrays are formatted into a readable string format\n    // TODO: add support for formatting objects and arrays into a table\n    function formatValue(value, fieldConfig) {\n      if (value == null) return 'N/A'; // Handle null and undefined values\n\n      switch (fieldConfig.format) {\n        case 'date':\n          return new Date(value.seconds * 1000).toLocaleDateString();\n        case 'number':\n          return parseFloat(value).toFixed(2);\n        case 'array':\n          return value.join(', ');\n        case 'map':\n          return Object.entries(value).map(([k, v]) => `${k}: ${v}`).join(', ');\n        case 'text':\n          return value;\n        default:\n          return JSON.stringify(value);\n      }\n    }\n\n    return { gene, filteredGeneDetails };\n  },\n};\n</script>\n\n<style scoped>\n.label-hover {\n  cursor: help;\n}\n\n.v-simple-table {\n  max-height: 300px;\n  overflow-y: auto;\n}\n</style>\n","import { render } from \"./GeneDetailCard.vue?vue&type=template&id=7c36e5a8&scoped=true\"\nimport script from \"./GeneDetailCard.vue?vue&type=script&lang=js\"\nexport * from \"./GeneDetailCard.vue?vue&type=script&lang=js\"\n\nimport \"./GeneDetailCard.vue?vue&type=style&index=0&id=7c36e5a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c36e5a8\"]])\n\nexport default __exports__","<!-- views/GenesDetail.vue -->\n<template>\n  <v-container>\n    <GeneDetailCard :id=\"id\" visibilityScope=\"standardView\" />\n  </v-container>\n</template>\n\n<script>\nimport GeneDetailCard from '@/components/GeneDetailCard.vue'; // Adjust the path accordingly\n\nexport default {\n  components: {\n    GeneDetailCard\n  },\n  props: {\n    id: String,\n  }\n};\n</script>\n","import { render } from \"./GeneDetail.vue?vue&type=template&id=185ecb32\"\nimport script from \"./GeneDetail.vue?vue&type=script&lang=js\"\nexport * from \"./GeneDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_container","$setup","gene","_component_v_card","class","$props","showTitle","_component_v_card_title","approved_symbol","_createVNode","_component_v_card_text","_component_v_table","density","_createElementVNode","_createElementBlock","_Fragment","_renderList","filteredGeneDetails","value","key","title","description","label","_hoisted_1","_component_v_tooltip","activator","location","innerHTML","formattedValue","_component_v_alert","type","props","id","String","visibilityScope","default","Boolean","setup","emit","ref","onMounted","async","fetchedGene","getGeneByHGNCIdOrSymbol","error","console","message","computed","Object","entries","geneDetailsConfig","filter","fieldConfig","visibility","map","formatValue","format","Date","seconds","toLocaleDateString","parseFloat","toFixed","join","k","v","JSON","stringify","__exports__","render","_component_GeneDetailCard","components","GeneDetailCard"],"sourceRoot":""}