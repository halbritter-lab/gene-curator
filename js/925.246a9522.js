"use strict";(self["webpackChunkgene_curator"]=self["webpackChunkgene_curator"]||[]).push([[925],{6160:function(e,t,a){var o=a(6056),r=a(4690),i=a(5573);const l={signInWithGoogle:async()=>{try{const e=new r.hJ,t=await(0,r.rh)(o.I,e);await n(t.user);const a=await(0,i.CX)(t.user.email);return a}catch(e){throw console.error(e),e}},registerWithEmail:async(e,t)=>{try{const a=await(0,r.Xb)(o.I,e,t);await n(a.user);const l=await(0,i.CX)(a.user.email);return l}catch(a){throw console.error(a),a}},loginWithEmail:async(e,t)=>{try{const a=await(0,r.e5)(o.I,e,t),l=await(0,i.CX)(a.user.email);return l}catch(a){throw console.error(a),a}},signOut:async()=>{try{await(0,r.w7)(o.I)}catch(e){throw console.error(e),e}}};async function n(e){const t=await(0,i.CX)(e.email);if(!t){const t=await(0,i.Rf)(),a=0===Object.keys(t).length,o=a?"admin":"viewer";await(0,i.r4)({uid:e.uid,email:e.email,role:o,createdAt:new Date,updatedAt:new Date},e.uid)}}t.Z=l},6925:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var o=a(3396);const r=(0,o._)("div",{class:"login-divider"}," OR ",-1);function i(e,t,a,i,l,n){const s=(0,o.up)("v-card-title"),c=(0,o.up)("v-text-field"),u=(0,o.up)("v-btn"),d=(0,o.up)("v-form"),m=(0,o.up)("v-card-text"),w=(0,o.up)("v-card"),g=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Email",modelValue:l.email,"onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),type:"email",required:""},null,8,["modelValue"]),(0,o.Wm)(c,{label:"Password",modelValue:l.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",required:""},null,8,["modelValue"]),(0,o.Wm)(u,{onClick:n.loginWithEmail},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1},8,["onClick"]),(0,o.Wm)(u,{text:"",onClick:n.navigateToRegister},{default:(0,o.w5)((()=>[(0,o.Uk)(" Don't have an account? Register ")])),_:1},8,["onClick"]),r,(0,o.Wm)(u,{onClick:n.signInWithGoogle,color:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("Login with Google")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})}a(560);var l=a(6160),n=a(2483),s={name:"LoginUser",data(){return{email:"",password:""}},setup(){const e=(0,n.tv)();return{router:e}},methods:{async loginWithEmail(){try{const e=await l.Z.loginWithEmail(this.email,this.password);this.saveUserToLocalStorage(e),this.router.push("/")}catch(e){console.error(e)}},async signInWithGoogle(){try{const e=await l.Z.signInWithGoogle();this.saveUserToLocalStorage(e),this.router.push("/")}catch(e){console.error(e)}},navigateToRegister(){this.router.push("/register")},saveUserToLocalStorage(e){e&&(localStorage.setItem("user",JSON.stringify({email:e.email,displayName:e.displayName||e.email})),localStorage.setItem("isLoggedIn","true"))}}},c=a(89);const u=(0,c.Z)(s,[["render",i]]);var d=u}}]);
//# sourceMappingURL=925.246a9522.js.map