{"version":3,"file":"js/550.1267d3fc.js","mappings":"2LAGIA,EAAAA,EAAAA,GAAqC,UAAjC,gCAA4B,G,GAI9BA,EAAAA,EAAAA,GAAmB,UAAf,cAAU,G,aAiBdA,EAAAA,EAAAA,GAAgC,UAA5B,2BAAuB,G,gJAtB/BC,EAAAA,EAAAA,IA2BcC,EAAA,M,kBA1BZ,IAAqC,CAArCC,GAGAH,EAAAA,EAAAA,GAQU,gBAPRI,GACAC,EAAAA,EAAAA,IAIgBC,EAAA,CAHdC,MAAM,aACLC,SAAQC,EAAAC,iBACTC,OAAO,Q,sBAETN,EAAAA,EAAAA,IAAmEO,EAAA,CAA3DC,QAAOJ,EAAAK,WAAaC,UAAWN,EAAAO,S,mBAAS,IAAW,UAAX,kB,kCAIhDX,EAAAA,EAAAA,IAGYY,EAAA,C,WAFDR,EAAAS,kB,qCAAAT,EAAAS,kBAAiBC,GACzBZ,MAAK,6BAA+BE,EAAAS,qB,+BAI1BT,EAAAW,UAAO,WAAtBC,EAAAA,EAAAA,IAKU,UAAAC,EAAA,CAJRC,GAEAlB,EAAAA,EAAAA,IAAsEO,EAAA,CAA/DY,MAAM,QAASX,QAAOJ,EAAAgB,iB,mBAAiB,IAAgB,UAAhB,uB,wEAUpD,GACEC,KAAM,cACNC,KAAAA,GACE,MAAMX,GAAUY,EAAAA,EAAAA,IAAI,MACdR,GAAUQ,EAAAA,EAAAA,KAAI,GACdV,GAAoBU,EAAAA,EAAAA,KAAI,GAExBlB,EAAoBmB,IACxBb,EAAQc,MAAQD,EAAME,OAAOC,MAAM,EAAE,EAGjClB,EAAamB,UACjB,GAAIjB,EAAQc,MAAO,CACjB,MAAMI,EAAS,IAAIC,WACnBD,EAAOE,OAASH,UACd,MAAMI,EAAOC,EAAEP,OAAOQ,OACtB,IACE,MAAMC,QAAgBC,EAAAA,EAAAA,IAAkBJ,EAAM,CAAC,WAAYnB,EAAkBY,OAC7EY,QAAQC,IAAIH,EACd,CAAE,MAAOI,GACPF,QAAQE,MAAM,uBAAwBA,EACxC,GAEFV,EAAOW,WAAW7B,EAAQc,MAC5B,GAGIL,EAAkBA,KAClBqB,QAAQ,kFACVC,EAAAA,EAAAA,KACF,EAGF,MAAO,CACL/B,UACAN,mBACAI,aACAM,UACAF,oBACAO,kBAEJ,G,QCxEF,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://gene-curator/./src/views/GeneAdmin.vue","webpack://gene-curator/./src/views/GeneAdmin.vue?0d28"],"sourcesContent":["<!-- views/GenesAdmin.vue -->\n<template>\n  <v-container>\n    <h1>Admin Panel: Gene Management</h1>\n\n    <!-- Section for Gene Administration -->\n    <section>\n      <h2>Gene Admin</h2>\n      <v-file-input\n        label=\"Gene Admin\"\n        @change=\"handleFileUpload\"\n        accept=\".csv\"\n      ></v-file-input>\n      <v-btn @click=\"uploadData\" :disabled=\"!csvFile\">Upload Data</v-btn>\n    </section>\n    \n      <!-- Overwrite Settings -->\n      <v-switch\n        v-model=\"overwriteSettings\"\n        :label=\"`Overwrite existing genes: ${overwriteSettings}`\"\n      ></v-switch>\n\n    <!-- Section for Admin Controls -->\n    <section v-if=\"isAdmin\">\n      <h2>Administrative Controls</h2>\n      <!-- Delete All Genes -->\n      <v-btn color=\"error\" @click=\"confirmDeletion\">Delete All Genes</v-btn>\n\n    </section>\n  </v-container>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { writeGenesFromCSV, deleteAllGenes } from '@/stores/geneStore'; // Import the store functions\n\nexport default {\n  name: 'UploadGenes',\n  setup() {\n    const csvFile = ref(null);\n    const isAdmin = ref(true); // TODO: Replace with real authentication check\n    const overwriteSettings = ref(false);\n\n    const handleFileUpload = (event) => {\n      csvFile.value = event.target.files[0];\n    };\n\n    const uploadData = async () => {\n      if (csvFile.value) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const text = e.target.result;\n          try {\n            const results = await writeGenesFromCSV(text, ['hgnc_id'], overwriteSettings.value);\n            console.log(results);\n          } catch (error) {\n            console.error(\"Error uploading CSV:\", error);\n          }\n        };\n        reader.readAsText(csvFile.value);\n      }\n    };\n\n    const confirmDeletion = () => {\n      if (confirm(\"Are you sure you want to delete ALL gene data? This action cannot be undone.\")) {\n        deleteAllGenes();\n      }\n    };\n\n    return {\n      csvFile,\n      handleFileUpload,\n      uploadData,\n      isAdmin,\n      overwriteSettings,\n      confirmDeletion,\n    };\n  },\n};\n</script>\n","import { render } from \"./GeneAdmin.vue?vue&type=template&id=8dc2af1a\"\nimport script from \"./GeneAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./GeneAdmin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_createBlock","_component_v_container","_hoisted_1","_hoisted_2","_createVNode","_component_v_file_input","label","onChange","$setup","handleFileUpload","accept","_component_v_btn","onClick","uploadData","disabled","csvFile","_component_v_switch","overwriteSettings","$event","isAdmin","_createElementBlock","_hoisted_3","_hoisted_4","color","confirmDeletion","name","setup","ref","event","value","target","files","async","reader","FileReader","onload","text","e","result","results","writeGenesFromCSV","console","log","error","readAsText","confirm","deleteAllGenes","__exports__","render"],"sourceRoot":""}