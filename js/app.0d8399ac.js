(function(){"use strict";var e={3086:function(e,t,a){var n=a(9242),o=a(3396);function r(e,t,a,n,r,i){const l=(0,o.up)("AppBar"),s=(0,o.up)("router-view"),u=(0,o.up)("v-main"),c=(0,o.up)("FooterBar"),d=(0,o.up)("v-app");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1}),(0,o.Wm)(c)])),_:1})}a(560);var i=a(7139);const l=e=>((0,o.dD)("data-v-270ebb53"),e=e(),(0,o.Cn)(),e),s=l((()=>(0,o._)("br",null,null,-1)));function u(e,t,a,n,r,l){const u=(0,o.up)("v-img"),c=(0,o.up)("v-icon"),d=(0,o.up)("v-toolbar-title"),m=(0,o.up)("v-btn"),p=(0,o.up)("v-list-item-title"),g=(0,o.up)("v-list-item"),v=(0,o.up)("v-list"),f=(0,o.up)("v-menu"),w=(0,o.up)("v-avatar"),h=(0,o.up)("v-app-bar"),b=(0,o.up)("v-snackbar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{app:"",color:"primary",dark:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{src:"logo.png",class:"mr-3 app-logo",contain:"","max-height":"48","max-width":"48",onClick:t[0]||(t[0]=t=>e.$router.push("/"))}),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("span",{class:"clickable",onClick:t[1]||(t[1]=t=>e.$router.push("/"))}," Gene Curator "),s,(0,o._)("span",{class:"version-info",onMouseenter:t[2]||(t[2]=e=>n.showCopyIcon=!0),onMouseleave:t[3]||(t[3]=e=>n.showCopyIcon=!1)},[(0,o.Uk)(" Version: "+(0,i.zw)(n.version)+" - Commit: "+(0,i.zw)(n.lastCommitHash)+" ",1),n.showCopyIcon?((0,o.wg)(),(0,o.j4)(c,{key:0,onClick:n.copyCitation},{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-content-copy")])),_:1},8,["onClick"])):(0,o.kq)("",!0)],32)])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.menuItems,(e=>((0,o.wg)(),(0,o.iD)(o.HY,{key:e.text},[e.children?((0,o.wg)(),(0,o.j4)(f,{key:0,"offset-y":""},{activator:(0,o.w5)((({props:t})=>[(0,o.Wm)(m,(0,o.dG)({text:""},t),{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(c,{key:0,left:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.icon),1)])),_:2},1024)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,i.zw)(e.text),1)])),_:2},1040)])),default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.children,(e=>((0,o.wg)(),(0,o.j4)(g,{key:e.text,to:e.to},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(c,{key:0},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.icon),1)])),_:2},1024)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,i.zw)(e.text),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:2},1024)])),_:2},1024)):((0,o.wg)(),(0,o.j4)(m,{key:1,to:e.to,text:""},{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(c,{key:0,left:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.icon),1)])),_:2},1024)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,i.zw)(e.text),1)])),_:2},1032,["to"]))],64)))),128)),(0,o.Wm)(m,{icon:"",onClick:n.toggleTheme},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.darkTheme?"mdi-weather-night":"mdi-white-balance-sunny"),1)])),_:1})])),_:1},8,["onClick"]),n.isLoggedIn?((0,o.wg)(),(0,o.j4)(f,{key:0,"offset-y":""},{activator:(0,o.w5)((({props:e})=>[(0,o.Wm)(m,(0,o.dG)({icon:""},e),{default:(0,o.w5)((()=>[(0,o.Wm)(w,{image:n.userAvatar},null,8,["image"])])),_:2},1040)])),default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{onClick:n.openUserProfile},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)("User Page")])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(g,{onClick:n.logout},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Logout")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(m,{key:1,icon:"",onClick:n.redirectToLogin},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-account-circle")])),_:1})])),_:1},8,["onClick"]))])),_:1}),(0,o.Wm)(b,{modelValue:n.snackbarVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>n.snackbarVisible=e),timeout:n.snackbarTimeout,color:n.snackbarColor},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.snackbarMessage),1)])),_:1},8,["modelValue","timeout","color"])],64)}var c=a(4870),d=a(4690),m=a(2483),p=a(5935),g={i8:"0.1.0"},v=JSON.parse('{"f":"halbritter-lab/gene-curator"}'),f=JSON.parse('{"e":[{"text":"Admin","icon":"mdi-cog","visibility":"loggedIn","requiredRoles":["admin"],"children":[{"text":"Gene Admin","to":"/upload","icon":"mdi-upload","visibility":"loggedIn","requiredRoles":["admin"]},{"text":"User Admin","to":"/useradmin","icon":"mdi-account-supervisor","visibility":"loggedIn","requiredRoles":["admin"]}]},{"text":"Curation","to":"/curations","icon":"mdi-book-open-page-variant","visibility":"loggedIn","requiredRoles":["admin","curator"]},{"text":"Pre-Curation","to":"/precurations","icon":"mdi-table-edit","visibility":"loggedIn","requiredRoles":["admin","curator"]},{"text":"Genes","to":"/genes","icon":"mdi-dna","visibility":"all"},{"text":"FAQ","icon":"mdi-help-circle","to":"/faq","visibility":"all"}]}'),w=a(4287),h=a(7795);const b={apiKey:"AIzaSyAlK6flaIujhnq9SUa4a3BCnezxZu583fI",authDomain:"kidney-genetics.firebaseapp.com",projectId:"kidney-genetics",storageBucket:"kidney-genetics.appspot.com",messagingSenderId:"363889916499",appId:"1:363889916499:web:f6e81c45d3c2705b0d64a6",measurementId:"production"},y=(0,h.ZF)(b),_=(0,w.ad)(y),k=(0,d.v0)(y),C={admin:{canCurate:!0,canViewAllRecords:!0,canEditAllRecords:!0,canAccessAdminPanel:!0,canManageUsers:!0,description:"Admins have full access to all records, user management, and administrative settings."},curator:{canCurate:!0,canViewAllRecords:!0,canEditOwnRecords:!0,canAccessAdminPanel:!1,canManageUsers:!1,description:"Curators can view all records, and curate or edit records they have created."},viewer:{canCurate:!1,canViewAllRecords:!0,canEditOwnRecords:!1,canAccessAdminPanel:!1,canManageUsers:!1,description:"Viewers have read-only access to all records."}},W=async()=>{const e=await(0,w.PL)((0,w.hJ)(_,"users"));let t={};return e.forEach((e=>{t[e.id]={id:e.id,...e.data()}})),t},V=async(e,t)=>{const a=e.role||"viewer",n=C[a],o=(0,w.JU)(_,"users",t);await(0,w.pl)(o,{...e,role:a,permissions:n,createdAt:w.EK.fromDate(new Date),updatedAt:w.EK.fromDate(new Date)})},D=async(e,t)=>{const a=(0,w.JU)(_,"users",e);await(0,w.r7)(a,{...t,updatedAt:w.EK.fromDate(new Date)})},I=async e=>{const t=(0,w.hJ)(_,"users"),a=(0,w.IO)(t,(0,w.ar)("email","==",e)),n=await(0,w.PL)(a);let o=null;return n.forEach((e=>{e.exists()&&(o={id:e.id,...e.data()})})),o};var U={name:"AppBar",setup(){const e=(0,p.Fg)(),t=(0,c.iH)(e.global.current.value.dark),a=g.i8,n=(0,c.iH)("loading..."),r=(0,c.iH)(!1),i=(0,d.v0)(),l=(0,c.iH)(JSON.parse(localStorage.getItem("user"))),s=(0,c.iH)(null),u=(0,m.tv)(),w=(0,o.Fl)((()=>!!l.value)),h=(0,o.Fl)((()=>l.value?.photoURL||"logo.png")),b=(0,c.iH)(!1),y=(0,c.iH)(""),_=6e3,k=(0,c.iH)("success"),C=(0,c.iH)(!1),W=()=>{const e=`Gene Curator, Version: ${a} - Commit: ${n.value}, an open-source platform designed for the curation and management of genetic information. Code available at https://github.com/halbritter-lab/gene-curator (accessed ${(new Date).toISOString().split("T")[0]}).`;navigator.clipboard.writeText(e).then((()=>{y.value="Citation copied to clipboard!",b.value=!0})).catch((e=>{console.error("Error copying citation:",e),y.value="Error copying citation!",b.value=!0}))},V=()=>{const a=!e.global.current.value.dark;e.global.name.value=a?"dark":"light",localStorage.setItem("darkTheme",a.toString()),t.value=a},D=async()=>{try{const e=v.f,t=await fetch(`https://api.github.com/repos/${e}/commits?per_page=1`);if(!t.ok)throw new Error("Network response was not ok.");const a=await t.json();a.length&&(n.value=a[0].sha.substring(0,7))}catch(e){console.error("Error fetching last commit:",e),r.value=!0,n.value="offline"}},U=()=>{u.push("/user")},x=async()=>{if(l.value)try{const e=await I(l.value.email);s.value=e&&e.role?e.role:"viewer"}catch(e){console.error("Error fetching user role:",e),s.value="viewer"}else s.value="viewer"};(0,d.Aj)(i,(e=>{l.value=e,x()})),(0,o.m0)((()=>{l.value?x():s.value=null}));const P=()=>{u.push("/login")},S=async()=>{try{await(0,d.w7)(i),l.value=null,localStorage.removeItem("user"),u.push("/"),y.value="Successfully logged out",k.value="success",b.value=!0}catch(e){console.error("Logout error:",e),y.value="Error during logout: "+e.message,k.value="error",b.value=!0}};(0,o.bv)((async()=>{await D();const a=localStorage.getItem("darkTheme");null!==a&&(e.global.name.value="true"===a?"dark":"light",t.value="true"===a)}));const A=(0,o.Fl)((()=>l.value?["admin","curator"]:[])),E=(0,o.Fl)((()=>f.e.filter((e=>!(e.requiredRoles&&!e.requiredRoles.includes(s.value))&&(!("loggedIn"===e.visibility&&!l.value)&&(("loggedOut"!==e.visibility||!l.value)&&(!e.requiredRoles||!e.requiredRoles.some((e=>!A.value.includes(e))))))))));return{darkTheme:t,toggleTheme:V,menuItems:E,userRole:s,version:a,lastCommitHash:n,isLoggedIn:w,userAvatar:h,openUserProfile:U,redirectToLogin:P,logout:S,snackbarVisible:b,snackbarMessage:y,snackbarTimeout:_,snackbarColor:k,copyCitation:W,showCopyIcon:C}}},x=a(89);const P=(0,x.Z)(U,[["render",u],["__scopeId","data-v-270ebb53"]]);var S=P;function A(e,t,a,n,r,l){const s=(0,o.up)("v-icon"),u=(0,o.up)("v-btn"),c=(0,o.up)("v-col"),d=(0,o.up)("v-row"),m=(0,o.up)("v-footer");return(0,o.wg)(),(0,o.j4)(m,{app:"",padless:"",class:"elevation-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{justify:"center","no-gutters":""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.footerLinks,(e=>((0,o.wg)(),(0,o.j4)(c,{cols:"auto",key:e.text},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"",href:e.href,target:"_blank",text:""},{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.icon),1)])),_:2},1024)])),_:2},1032,["href"])])),_:2},1024)))),128))])),_:1})])),_:1})}var E=JSON.parse('{"O":[{"icon":"mdi-github","href":"https://github.com/halbritter-lab/gene-curator","text":"GitHub"},{"icon":"mdi-file-document-outline","href":"https://github.com/halbritter-lab/gene-curator/wiki","text":"Documentation"},{"icon":"mdi-certificate","href":"https://github.com/halbritter-lab/gene-curator/blob/master/LICENSE","text":"License"}]}'),j={name:"FooterBar",setup(){const e=(0,c.iH)(E.O);return(0,o.bv)((()=>{})),{footerLinks:e}}};const O=(0,x.Z)(j,[["render",A],["__scopeId","data-v-592fd315"]]);var H=O,T={name:"App",components:{AppBar:S,FooterBar:H}};const G=(0,x.Z)(T,[["render",r]]);var q=G;function F(e,t,a,n,r,i){const l=(0,o.up)("StaticContent");return(0,o.wg)(),(0,o.j4)(l,{config:r.startPageConfig},null,8,["config"])}function L(e,t,a,n,r,l){const s=(0,o.up)("v-img"),u=(0,o.up)("v-card-title"),c=(0,o.up)("v-card-text"),d=(0,o.up)("v-btn"),m=(0,o.up)("v-card-actions"),p=(0,o.up)("v-card"),g=(0,o.up)("v-col"),v=(0,o.up)("v-row"),f=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(f,null,{default:(0,o.w5)((()=>[(0,o._)("h1",null,(0,i.zw)(a.config.title),1),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.config.sections,(e=>((0,o.wg)(),(0,o.j4)(g,{key:e.header,cols:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[e.image?((0,o.wg)(),(0,o.j4)(s,{key:0,src:e.image,class:"section-image"},null,8,["src"])):(0,o.kq)("",!0),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.header),1)])),_:2},1024),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.content),1)])),_:2},1024),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.links,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.title,to:e.url,text:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}var M={name:"StaticContent",props:{config:{type:Object,required:!0}}};const z=(0,x.Z)(M,[["render",L],["__scopeId","data-v-d614fd4c"]]);var N=z,R=JSON.parse('{"title":"Welcome to Gene Curator","sections":[{"header":"What is Gene Curator?","content":"Gene Curator is a comprehensive tool for gene data management...","image":"logo.png"},{"header":"Getting Started","content":"Start by exploring the gene and entity curation database...","links":[{"title":"Explore Genes","url":"/genes"},{"title":"Explore entities","url":"/curations"}]},{"header":"Learn More","content":"Read our FAQs or contact us for more information...","links":[{"title":"FAQ","url":"/faq"},{"title":"Contact Us","url":"/about"}]}]}'),$={name:"HomePage",components:{StaticContent:N},data(){return{startPageConfig:R}}};const J=(0,x.Z)($,[["render",F]]);var Z=J;function K(e,t,a,n,r,i){const l=(0,o.up)("StaticContent");return(0,o.wg)(),(0,o.j4)(l,{config:r.faqConfig},null,8,["config"])}var B=JSON.parse('{"title":"Frequently Asked Questions","sections":[{"header":"What is Gene Curator?","content":"Gene Curator is a web-based application designed for genetic research and data analysis...","links":[{"title":"Learn More","url":"/about"}]},{"header":"How can I contribute?","content":"We welcome contributions from the community. Please visit our GitHub repository to get started.","links":[{"title":"GitHub Repository","url":"https://github.com/halbritter-lab/gene-curator"}]}]}'),Y={name:"FAQPage",components:{StaticContent:N},data(){return{faqConfig:B}}};const Q=(0,x.Z)(Y,[["render",K]]);var X=Q;function ee(e,t,a,n,r,i){const l=(0,o.up)("StaticContent");return(0,o.wg)(),(0,o.j4)(l,{config:r.aboutConfig},null,8,["config"])}var te=JSON.parse('{"title":"About Gene Curator","sections":[{"header":"Our Mission","content":"Gene Curator is a comprehensive tool aimed at simplifying genetic research and analysis..."},{"header":"Our Approach","content":"We focus on data accuracy, user-friendly interfaces, and cutting-edge technology...","links":[{"title":"FAQ","url":"/faq"}]}]}'),ae={name:"AboutPage",components:{StaticContent:N},data(){return{aboutConfig:te}}};const ne=(0,x.Z)(ae,[["render",ee]]);var oe=ne;const re=(0,o._)("h1",null,"Genes Table",-1);function ie(e,t,a,n,r,i){const l=(0,o.up)("DataExport"),s=(0,o.up)("v-btn"),u=(0,o.up)("CurationModal"),c=(0,o.up)("DataDisplayTable"),d=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[re,(0,o.Wm)(l,{"data-to-export":n.paginatedItems,filename:"GenesDataExport"},null,8,["data-to-export"]),(0,o.Wm)(c,{headers:n.headers,items:n.paginatedItems,config:n.tableConfig,"total-items":n.totalItems,loading:n.loading,onAction:n.handleAction,onPageChanged:n.updatePage,onItemsPerPageChanged:n.updateItemsPerPage},{"action-slot":(0,o.w5)((({item:e})=>[(0,o.Wm)(s,{onClick:t=>n.openModal(e)},{default:(0,o.w5)((()=>[(0,o.Uk)("Curate")])),_:2},1032,["onClick"])])),modal:(0,o.w5)((()=>[(0,o.Wm)(u,{item:n.selectedItem,open:n.showModal,onClose:n.closeModal,onSave:n.saveData},null,8,["item","open","onClose","onSave"])])),_:1},8,["headers","items","config","total-items","loading","onAction","onPageChanged","onItemsPerPageChanged"])])),_:1})}const le={key:0},se={key:1};function ue(e,t,a,n,r,l){const s=(0,o.up)("router-link"),u=(0,o.up)("v-data-table"),c=(0,o.up)("v-pagination"),d=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{headers:a.headers,items:a.items,"items-per-page":n.itemsPerPage,"onUpdate:itemsPerPage":t[0]||(t[0]=e=>n.itemsPerPage=e),"server-items-length":a.totalItems,loading:a.loading,class:"elevation-1",density:"compact"},(0,o.Nv)({_:2},[(0,o.Ko)(a.config.columns,(t=>({name:`item.${t.name}`,fn:(0,o.w5)((({item:a})=>["text"===t.type?((0,o.wg)(),(0,o.iD)("div",le,(0,i.zw)(a[t.name]),1)):"date"===t.type?((0,o.wg)(),(0,o.iD)("div",se,(0,i.zw)(n.formatTimestamp(a[t.name])),1)):"link"===t.type?((0,o.wg)(),(0,o.j4)(s,{key:2,to:t.to(a)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a[t.name]),1)])),_:2},1032,["to"])):"slot"===t.type?(0,o.WI)(e.$slots,t.slotName,{key:3,item:a}):(0,o.kq)("",!0)]))})))]),1032,["headers","items","items-per-page","server-items-length","loading"]),(0,o.WI)(e.$slots,"modal"),(0,o.Wm)(c,{modelValue:n.page,"onUpdate:modelValue":t[1]||(t[1]=e=>n.page=e),length:n.totalPages,"onUpdate:page":t[2]||(t[2]=t=>e.$emit("update-page",n.page))},null,8,["modelValue","length"])])),_:3})}var ce={props:{headers:Array,items:Array,config:Object,totalItems:Number,loading:Boolean},setup(e,{emit:t}){const a=(0,c.iH)(1),n=(0,c.iH)(10),r=(0,o.Fl)((()=>Math.ceil(e.totalItems/n.value))),i=e=>{if(!e)return"";const t=new Date(1e3*e.seconds);return t.toLocaleDateString()};return(0,o.YP)(a,(()=>{t("page-changed",a.value)})),(0,o.YP)(n,(()=>{t("items-per-page-changed",n.value)})),{page:a,itemsPerPage:n,totalPages:r,formatTimestamp:i}}};const de=(0,x.Z)(ce,[["render",ue]]);var me=de,pe=a(6026),ge=a.n(pe);const ve={createdAt:{label:"Created At",format:"date",description:"Timestamp of when the gene record was created.",visibility:{standardView:!1,curationView:!1}},cur_id:{label:"CUR ID",format:"text",description:"Unique identifier for the gene within the curation system.",visibility:{standardView:!1,curationView:!1}},approved_symbol:{label:"Approved Symbol",format:"text",description:"The official symbol provided by HGNC.",visibility:{standardView:!0,curationView:!1}},hgnc_id:{label:"HGNC ID",format:"text",description:"Unique identifier provided by the HGNC.",visibility:{standardView:!0,curationView:!1}},clingen_summary:{label:"ClinGen Summary",format:"text",description:"Summary information from the ClinGen database.",visibility:{standardView:!0,curationView:!0}},gencc_summary:{label:"GenCC Summary",format:"text",description:"Summary from the GenCC database.",visibility:{standardView:!0,curationView:!0}},omim_summary:{label:"OMIM Summary",format:"array",separator:"|",description:"Summary information from the Online Mendelian Inheritance in Man database.",visibility:{standardView:!0,curationView:!0}},clinical_groups_p:{label:"Clinical Groups",format:"text",description:"Clinical groupings based on phenotype.",visibility:{standardView:!0,curationView:!0}},onset_groups_p:{label:"Onset Groups",format:"text",description:"Information on the onset groups for the gene-related conditions.",visibility:{standardView:!1,curationView:!0}},syndromic_groups_p:{label:"Syndromic Groups",format:"text",description:"Information about the syndromic grouping of the gene.",visibility:{standardView:!1,curationView:!0}},evidence_count:{label:"Evidence Count",format:"number",description:"Count of evidence items associated with the gene.",visibility:{standardView:!0,curationView:!0}},source_count_percentile:{label:"Source Count Percentile",format:"number",description:"The percentile rank based on the count of sources mentioning the gene.",visibility:{standardView:!1,curationView:!0}},clinvar:{label:"ClinVar",format:"map",separator:";",keyValueSeparator:":",description:"Data from ClinVar including pathogenicity classifications.",visibility:{standardView:!0,curationView:!1}},descartes_kidney_tpm:{label:"Descartes Kidney TPM",format:"number",description:"Transcripts Per Million in kidney tissue from Descartes dataset.",visibility:{standardView:!1,curationView:!1}},gtex_kidney_cortex:{label:"GTEx Kidney Cortex",format:"number",description:"Expression score from GTEx Kidney Cortex data.",visibility:{standardView:!1,curationView:!1}},gtex_kidney_medulla:{label:"GTEx Kidney Medulla",format:"number",description:"Expression score from GTEx Kidney Medulla data.",visibility:{standardView:!1,curationView:!1}},expression_score:{label:"Expression Score",format:"number",description:"Score based on gene expression levels.",visibility:{standardView:!1,curationView:!1}},interaction_score:{label:"Interaction Score",format:"number",description:"Quantitative score representing gene interactions.",visibility:{standardView:!1,curationView:!1}},lof_z:{label:"LOF Z",format:"number",description:"Loss of function Z-score.",visibility:{standardView:!1,curationView:!1}},mis_z:{label:"MIS Z",format:"number",description:"Missense Z-score.",visibility:{standardView:!1,curationView:!1}},oe_lof:{label:"OE LOF",format:"number",description:"Observed vs. expected loss of function score.",visibility:{standardView:!1,curationView:!1}},pLI:{label:"pLI Score",format:"number",description:"Probability of being loss-of-function intolerant (pLI) score.",visibility:{standardView:!0,curationView:!1}},mgi_phenotype:{label:"MGI Phenotype",format:"array",separator:";",description:"Phenotypic information from the Mouse Genome Informatics database.",visibility:{standardView:!0,curationView:!1}},stringdb_interaction_normalized_score:{label:"StringDB Interaction Normalized Score",format:"number",description:"Normalized score of gene interactions from StringDB.",visibility:{standardView:!1,curationView:!1}},stringdb_interaction_string:{label:"StringDB Interactions",format:"array",separator:";",description:"List of interactions from StringDB.",visibility:{standardView:!1,curationView:!1}},stringdb_interaction_sum_score:{label:"StringDB Interaction Sum Score",format:"number",description:"Sum score of gene interactions from StringDB.",visibility:{standardView:!1,curationView:!1}}},fe=async(e=["hgnc_id","cur_id"])=>{const t=await(0,w.PL)((0,w.hJ)(_,"genes"));let a={};return t.forEach((t=>{const n=t.data(),o=e.map((e=>n[e])).join("-");a[o]={...n,docId:t.id}})),a},we=async e=>{const t=(0,w.hJ)(_,"genes"),a=await(0,w.PL)(t);let n=null;if(a.forEach((t=>{const a=t.data();a.hgnc_id!==e&&a.approved_symbol!==e||(n={docId:t.id,...a})})),n)return n;throw new Error("Gene not found!")},he=async(e,t=["hgnc_id","cur_id"],a=!0)=>{try{const n=await fe(t),o=ge().parse(e,{header:!0}).data;let r={added:0,overwritten:0,skipped:0};for(const e of o){for(const[t,a]of Object.entries(ve))void 0!==e[t]&&(e[t]=Ve(e[t],a));const o=t.map((t=>e[t])).join("-");if(ye(e,t),n[o])if(a){const t=ke(e);await(0,w.r7)((0,w.JU)(_,"genes",n[o].docId),t),r.overwritten++}else r.skipped++;else{const t=_e(e);await(0,w.ET)((0,w.hJ)(_,"genes"),t),r.added++}}return`Upload Summary: ${r.added} added, ${r.overwritten} overwritten, ${r.skipped} skipped.`}catch(n){throw new Error(`Failed to process CSV: ${n.message}`)}},be=async()=>{try{if(!Ce())throw new Error("Unauthorized access to delete all genes.");const e=await(0,w.PL)((0,w.hJ)(_,"genes")),t=(0,w.qs)(_);e.forEach((e=>{t.delete(e.ref)})),await t.commit(),console.log(`All genes deleted by ${We()} at ${(new Date).toISOString()}`)}catch(e){throw new Error(`Failed to delete all genes: ${e.message}`)}},ye=e=>{const t=["hgnc_id","cur_id"],a=t.filter((t=>!e[t]));if(a.length>0)throw new Error(`Missing required fields: ${a.join(", ")}`)},_e=e=>({...e,createdAt:w.EK.fromDate(new Date)}),ke=e=>({...e,lastUpdated:w.EK.fromDate(new Date)}),Ce=()=>!0,We=()=>"mockUserID123",Ve=(e,t)=>{switch(t.format){case"number":return parseFloat(e);case"date":return new Date(e);case"array":return e.split(t.separator);case"map":return e.split(t.separator).reduce(((e,a)=>{const[n,o]=a.split(t.keyValueSeparator);return e[n.trim()]=o.trim(),e}),{});default:return e}};function De(e,t,a,n,r,l){const s=(0,o.up)("v-card-title"),u=(0,o.up)("v-tab"),c=(0,o.up)("v-tabs"),d=(0,o.up)("GeneDetailCard"),m=(0,o.up)("PrecurationForm"),p=(0,o.up)("v-window-item"),g=(0,o.up)("CurationForm"),v=(0,o.up)("v-window"),f=(0,o.up)("v-card-text"),w=(0,o.up)("v-spacer"),h=(0,o.up)("v-btn"),b=(0,o.up)("v-card-actions"),y=(0,o.up)("v-card"),_=(0,o.up)("v-dialog"),k=(0,o.up)("v-snackbar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_,{modelValue:n.isOpen,"onUpdate:modelValue":t[2]||(t[2]=e=>n.isOpen=e),persistent:"","max-width":"1200px"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Gene Curation - "+(0,i.zw)(n.editedItem.approved_symbol)+" - HGNC:"+(0,i.zw)(n.editedItem.hgnc_id),1)])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),grow:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Pre-Curation")])),_:1}),n.showCurationTab?((0,o.wg)(),(0,o.j4)(u,{key:0},{default:(0,o.w5)((()=>[(0,o.Uk)("Curation")])),_:1})):(0,o.kq)("",!0)])),_:1},8,["modelValue"]),(0,o.Wm)(v,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),style:{"min-height":"500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{id:n.editedItem.hgnc_id,visibilityScope:"curationView",showTitle:!1},null,8,["id"]),(0,o.Wm)(m,{approvedSymbol:n.editedItem.approved_symbol,hgncId:n.editedItem.hgnc_id,onPrecurationAccepted:n.handlePrecurationAccepted},null,8,["approvedSymbol","hgncId","onPrecurationAccepted"])])),_:1}),n.showCurationTab?((0,o.wg)(),(0,o.j4)(p,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{approvedSymbol:n.editedItem.approved_symbol,hgncId:n.editedItem.hgnc_id},null,8,["approvedSymbol","hgncId"])])),_:1})):(0,o.kq)("",!0)])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w),(0,o.Wm)(h,{color:"blue darken-1",text:"",onClick:n.close},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1},8,["onClick"]),(0,o.Wm)(h,{color:"blue darken-1",text:"",onClick:n.save},{default:(0,o.w5)((()=>[(0,o.Uk)("Save")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(k,{modelValue:n.snackbarVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>n.snackbarVisible=e),color:n.snackbarColor,timeout:6e3},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.snackbarMessage),1)])),_:1},8,["modelValue","color"])],64)}const Ie=["title"],Ue=["innerHTML"];function xe(e,t,a,n,r,l){const s=(0,o.up)("v-card-title"),u=(0,o.up)("v-tooltip"),c=(0,o.up)("v-table"),d=(0,o.up)("v-card-text"),m=(0,o.up)("v-card"),p=(0,o.up)("v-alert"),g=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[n.gene?((0,o.wg)(),(0,o.j4)(m,{key:0,class:"mx-auto my-4","max-width":"800"},{default:(0,o.w5)((()=>[a.showTitle?((0,o.wg)(),(0,o.j4)(s,{key:0,class:"headline"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.gene.approved_symbol),1)])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{dense:""},{default:(0,o.w5)((()=>[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.filteredGeneDetails,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o._)("strong",null,[(0,o._)("span",{class:"label-hover",title:e.description},(0,i.zw)(e.label),9,Ie),(0,o.Wm)(u,{activator:"parent",location:"start"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.description),1)])),_:2},1024)])]),(0,o._)("td",{innerHTML:e.formattedValue},null,8,Ue)])))),128))])])),_:1})])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(p,{key:1,type:"error"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Gene not found or failed to load. ")])),_:1}))])),_:1})}var Pe={props:{id:String,visibilityScope:{type:String,default:"standardView"},showTitle:{type:Boolean,default:!0}},setup(e){const t=(0,c.iH)(null);(0,o.bv)((async()=>{e.id&&(t.value=await we(e.id).catch((e=>{console.error(e.message)})))}));const a=(0,o.Fl)((()=>t.value?Object.entries(ve).filter((([,t])=>t.visibility[e.visibilityScope])).map((([e,a])=>{const o=t.value[e];return{label:a.label,description:a.description||"",formattedValue:n(o,a)}})):[]));function n(e,t){if(null==e)return"N/A";switch(t.format){case"date":return new Date(1e3*e.seconds).toLocaleDateString();case"number":return parseFloat(e).toFixed(2);case"array":return e.join(", ");case"map":return Object.entries(e).map((([e,t])=>`${e}: ${t}`)).join(", ");case"text":return e;default:return JSON.stringify(e)}}return{gene:t,filteredGeneDetails:a}}};const Se=(0,x.Z)(Pe,[["render",xe],["__scopeId","data-v-2df2f3be"]]);var Ae=Se;function Ee(e,t,a,n,r,l){const s=(0,o.up)("v-card-title"),u=(0,o.up)("v-switch"),c=(0,o.up)("v-col"),d=(0,o.up)("v-divider"),m=(0,o.up)("v-select"),p=(0,o.up)("v-row"),g=(0,o.up)("v-textarea"),v=(0,o.up)("v-icon"),f=(0,o.up)("v-btn"),w=(0,o.up)("v-container"),h=(0,o.up)("v-card-text"),b=(0,o.up)("v-card");return(0,o.wg)(),(0,o.j4)(b,{class:"elevation-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Precuration")])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.precurationOptions,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{key:t,cols:"2",class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.precurationData[e.key],"onUpdate:modelValue":t=>r.precurationData[e.key]=t,"false-value":!1,"true-value":!0,"hide-details":"",class:"mt-0",color:r.precurationData[e.key]?e.activeColor:"grey"},null,8,["modelValue","onUpdate:modelValue","color"]),(0,o._)("div",{style:(0,i.j5)({color:e.color})},(0,i.zw)(e.label)+": "+(0,i.zw)(l.displaySwitchValue(r.precurationData[e.key])),5)])),_:2},1024)))),128)),(0,o.Wm)(c,{cols:"1",class:"d-flex align-center justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{vertical:"",class:"mx-2"})])),_:1}),(0,o.Wm)(c,{cols:"3"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.precurationData.decision,"onUpdate:modelValue":t[0]||(t[0]=e=>r.precurationData.decision=e),items:["Split","Lump"],label:"Decision","hide-details":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{cols:"8"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:r.precurationData.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>r.precurationData.comment=e),label:"Comment","auto-grow":"",rows:"1","no-resize":""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{cols:"1",class:"d-flex align-center justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{vertical:"",class:"mx-2"})])),_:1}),(0,o.Wm)(c,{cols:"3",class:"pt-2 d-flex align-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{color:"primary",onClick:l.submitPrecuration},{default:(0,o.w5)((()=>[(0,o.Uk)(" Accept "),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-arrow-right")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}const je=async()=>{const e=await(0,w.PL)((0,w.hJ)(_,"precurations"));let t={};return e.forEach((e=>{t[e.id]=e.data()})),t},Oe=async e=>{const t=await(0,w.ET)((0,w.hJ)(_,"precurations"),{...e,createdAt:w.EK.fromDate(new Date),updatedAt:w.EK.fromDate(new Date)});return t.id},He=async e=>{const t=(0,w.hJ)(_,"precurations"),a=(0,w.IO)(t,(0,w.ar)("approved_symbol","==",e)),n=(0,w.IO)(t,(0,w.ar)("hgnc_id","==",e)),o=await(0,w.PL)(a),r=await(0,w.PL)(n);let i=null;return o.forEach((e=>{e.exists()&&(i={id:e.id,...e.data()})})),i||r.forEach((e=>{e.exists()&&(i={id:e.id,...e.data()})})),i},Te=async(e,t)=>{const a=(0,w.JU)(_,"precurations",e);await(0,w.r7)(a,{...t,updatedAt:w.EK.fromDate(new Date)})},Ge=async e=>{const t=(0,w.JU)(_,"precurations",e);await(0,w.oe)(t)};var qe={name:"PrecurationForm",props:{approvedSymbol:String,hgncId:String},data(){return{precurationData:{approved_symbol:this.approvedSymbol,hgnc_id:this.hgncId,entity_assertion:!1,inheritance_difference:!1,mechanism_difference:!1,phenotypic_variability:!1,decision:"",comment:"",createdAt:null,updatedAt:null,users:["user1"]},precurationOptions:[{key:"entity_assertion",label:"Assertion",color:"purple",activeColor:"indigo"},{key:"inheritance_difference",label:"Inheritance",color:"green",activeColor:"lime"},{key:"mechanism_difference",label:"Mechanism",color:"red",activeColor:"orange"},{key:"phenotypic_variability",label:"Variability",color:"blue",activeColor:"cyan"}],existingPrecurationId:null}},methods:{async submitPrecuration(){const e=(new Date).toISOString();if(this.precurationData.updatedAt=e,this.existingPrecurationId)await Te(this.existingPrecurationId,this.precurationData),console.log("Precuration updated:",this.existingPrecurationId);else{this.precurationData.createdAt=e;const t=await Oe(this.precurationData);console.log("New precuration created with ID:",t)}this.$emit("precuration-accepted",this.precurationData)},displaySwitchValue(e){return e?"Yes":"No"}},async created(){try{const e=await He(this.approvedSymbol||this.hgncId);e&&(this.existingPrecurationId=e.id,Object.assign(this.precurationData,e))}catch(e){console.error("Error fetching precuration:",e.message)}}};const Fe=(0,x.Z)(qe,[["render",Ee],["__scopeId","data-v-3d323da2"]]);var Le=Fe;const Me=e=>((0,o.dD)("data-v-2e52fb92"),e=e(),(0,o.Cn)(),e),ze=Me((()=>(0,o._)("h2",null,"Entity",-1))),Ne=Me((()=>(0,o._)("h2",null,"Groups",-1))),Re=Me((()=>(0,o._)("h2",null,"Points",-1))),$e=Me((()=>(0,o._)("h2",null,"Verdict",-1)));function Je(e,t,a,n,r,i){const l=(0,o.up)("v-card-title"),s=(0,o.up)("v-col"),u=(0,o.up)("v-text-field"),c=(0,o.up)("v-row"),d=(0,o.up)("v-select"),m=(0,o.up)("v-checkbox"),p=(0,o.up)("v-textarea"),g=(0,o.up)("v-container"),v=(0,o.up)("v-card-text"),f=(0,o.up)("v-spacer"),w=(0,o.up)("v-btn"),h=(0,o.up)("v-card-actions"),b=(0,o.up)("v-card");return(0,o.wg)(),(0,o.j4)(b,{class:"elevation-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Curation")])),_:1}),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"my-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{cols:"12"},{default:(0,o.w5)((()=>[ze])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.approved_symbol,"onUpdate:modelValue":t[0]||(t[0]=e=>r.curationData.approved_symbol=e),label:"Approved Symbol",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.disease,"onUpdate:modelValue":t[1]||(t[1]=e=>r.curationData.disease=e),label:"Disease",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.inheritance,"onUpdate:modelValue":t[2]||(t[2]=e=>r.curationData.inheritance=e),label:"Inheritance",outlined:"",dense:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(c,{class:"my-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{cols:"12"},{default:(0,o.w5)((()=>[Ne])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.groups.clinical,"onUpdate:modelValue":t[3]||(t[3]=e=>r.curationData.groups.clinical=e),label:"Clinical Group",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.curationData.groups.onset,"onUpdate:modelValue":t[4]||(t[4]=e=>r.curationData.groups.onset=e),label:"Onset Group",items:[],outlined:"",dense:"",multiple:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.curationData.groups.syndromic,"onUpdate:modelValue":t[5]||(t[5]=e=>r.curationData.groups.syndromic=e),label:"Syndromic"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(c,{class:"my-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{cols:"12"},{default:(0,o.w5)((()=>[Re])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.points.variants,"onUpdate:modelValue":t[6]||(t[6]=e=>r.curationData.points.variants=e),label:"Variants",type:"number",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.points.models,"onUpdate:modelValue":t[7]||(t[7]=e=>r.curationData.points.models=e),label:"Models",type:"number",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.points.functional,"onUpdate:modelValue":t[8]||(t[8]=e=>r.curationData.points.functional=e),label:"Functional",type:"number",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.curationData.points.rescue,"onUpdate:modelValue":t[9]||(t[9]=e=>r.curationData.points.rescue=e),label:"Rescue",type:"number",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.curationData.points.replication,"onUpdate:modelValue":t[10]||(t[10]=e=>r.curationData.points.replication=e),label:"Replication",items:[],outlined:"",dense:"",multiple:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(c,{class:"my-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{cols:"12"},{default:(0,o.w5)((()=>[$e])),_:1}),(0,o.Wm)(s,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.curationData.verdict,"onUpdate:modelValue":t[11]||(t[11]=e=>r.curationData.verdict=e),items:["Definitive","Moderate","Limited","Refuted"],label:"Verdict",outlined:"",dense:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(s,{cols:"8"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:r.curationData.comment,"onUpdate:modelValue":t[12]||(t[12]=e=>r.curationData.comment=e),label:"Comment","auto-grow":"",rows:"1","no-resize":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f),(0,o.Wm)(w,{color:"primary",onClick:i.saveCuration},{default:(0,o.w5)((()=>[(0,o.Uk)("Save")])),_:1},8,["onClick"])])),_:1})])),_:1})}const Ze=async()=>{const e=await(0,w.PL)((0,w.hJ)(_,"curations"));let t={};return e.forEach((e=>{t[e.id]=e.data()})),t},Ke=async e=>{const t=await(0,w.ET)((0,w.hJ)(_,"curations"),{...e,createdAt:w.EK.fromDate(new Date),updatedAt:w.EK.fromDate(new Date)});return t.id},Be=async(e,t)=>{const a=(0,w.JU)(_,"curations",e);await(0,w.r7)(a,{...t,updatedAt:w.EK.fromDate(new Date)})},Ye=async e=>{const t=(0,w.JU)(_,"curations",e);await(0,w.oe)(t)},Qe=async e=>{const t=(0,w.hJ)(_,"curations"),a=(0,w.IO)(t,(0,w.ar)("approved_symbol","==",e)),n=(0,w.IO)(t,(0,w.ar)("hgnc_id","==",e)),o=await(0,w.PL)(a);let r=null;if(o.forEach((e=>{e.exists()&&(r={id:e.id,...e.data()})})),!r){const e=await(0,w.PL)(n);e.forEach((e=>{e.exists()&&(r={id:e.id,...e.data()})}))}return r};var Xe={name:"CurationForm",props:{approvedSymbol:String,hgncId:String},data(){return{curationData:{approved_symbol:this.approvedSymbol,hgnc_id:this.hgncId,disease:"",inheritance:"",groups:{clinical:"",onset:[],syndromic:!1},points:{variants:0,models:0,functional:0,rescue:0,replication:[]},verdict:"",comment:""},existingCurationId:null}},async created(){if(this.hgncId||this.approvedSymbol)try{const e=await Qe(this.hgncId||this.approvedSymbol);e&&(this.existingCurationId=e.id,Object.assign(this.curationData,e))}catch(e){console.error("Error fetching curation:",e.message)}},methods:{async saveCuration(){try{if(this.existingCurationId)await Be(this.existingCurationId,this.curationData),console.log("Curation updated:",this.existingCurationId);else{const e=await Ke(this.curationData);console.log("New curation created with ID:",e)}}catch(e){console.error("Error saving curation:",e.message)}}}};const et=(0,x.Z)(Xe,[["render",Je],["__scopeId","data-v-2e52fb92"]]);var tt=et,at={components:{GeneDetailCard:Ae,PrecurationForm:Le,CurationForm:tt},props:{item:{type:Object,required:!0},open:{type:Boolean,required:!0}},emits:["close","save"],setup(e,{emit:t}){const a=(0,c.iH)(e.open),n=(0,c.iH)({...e.item}),r=(0,c.iH)(!1),i=(0,c.iH)(0),l=(0,c.iH)(!1),s=(0,c.iH)(""),u=(0,c.iH)("success"),d=(e,t="success")=>{s.value=e,u.value=t,l.value=!0};(0,o.m0)((()=>{a.value=e.open,n.value={...e.item}}));const m=e=>{d("Precuration saved for: "+e.approved_symbol,"success"),r.value=!0,i.value=1},p=()=>t("close"),g=()=>t("save",n.value),v=async()=>{try{const e=await He(n.value.hgnc_id||n.value.approved_symbol);e?(r.value=!0,i.value=1):(r.value=!1,i.value=0)}catch(e){d("Error checking existing curation: "+e.message,"error")}};return(0,o.YP)((()=>e.open),(async e=>{e&&await v()})),{isOpen:a,editedItem:n,close:p,save:g,handlePrecurationAccepted:m,showCurationTab:r,tab:i,snackbarVisible:l,snackbarMessage:s,snackbarColor:u,showSnackbar:d}}};const nt=(0,x.Z)(at,[["render",De],["__scopeId","data-v-2242d56c"]]);var ot=nt;const rt={class:"text-center"};function it(e,t,a,n,r,i){const l=(0,o.up)("v-icon"),s=(0,o.up)("v-btn"),u=(0,o.up)("v-list-item-title"),c=(0,o.up)("v-list-item"),d=(0,o.up)("v-list"),m=(0,o.up)("v-menu");return(0,o.wg)(),(0,o.iD)("div",rt,[(0,o.Wm)(m,{"open-on-hover":""},{activator:(0,o.w5)((({props:e})=>[(0,o.Wm)(s,(0,o.dG)({color:"primary"},e),{default:(0,o.w5)((()=>[(0,o.Wm)(l,{left:""},{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-export")])),_:1}),(0,o.Uk)(" Export ")])),_:2},1040)])),default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onClick:t[0]||(t[0]=e=>n.handleExport("csv"))},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Export as CSV")])),_:1})])),_:1}),(0,o.Wm)(c,{onClick:t[1]||(t[1]=e=>n.handleExport("excel"))},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Export as Excel")])),_:1})])),_:1}),(0,o.Wm)(c,{onClick:t[2]||(t[2]=e=>n.handleExport("pdf"))},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Export as PDF")])),_:1})])),_:1})])),_:1})])),_:1})])}var lt=a(6154),st=a(7092),ut=a(8914);a(3579);const ct=(e,t="data")=>{const a=ge().unparse(e),n=new Blob([a],{type:"text/csv;charset=utf-8;"});(0,lt.saveAs)(n,`${t}.csv`)},dt=(e,t="data")=>{const a=st.P6.json_to_sheet(e),n=st.P6.book_new();st.P6.book_append_sheet(n,a,"Sheet1"),st.NC(n,`${t}.xlsx`)},mt=(e,t="data")=>{const a=new ut["default"];a.autoTable({head:[Object.keys(e[0])],body:e.map(Object.values)}),a.save(`${t}.pdf`)};var pt={props:{dataToExport:{type:Array,required:!0},filename:{type:String,default:"exported-data"}},setup(e){const t=(0,c.iH)(!1),a=async a=>{t.value=!0;try{switch(a){case"csv":await ct(e.dataToExport,e.filename);break;case"excel":await dt(e.dataToExport,e.filename);break;case"pdf":await mt(e.dataToExport,e.filename);break}}catch(n){console.error("Error during export:",n)}finally{t.value=!1}};return{exporting:t,handleExport:a}}};const gt=(0,x.Z)(pt,[["render",it]]);var vt=gt,ft={name:"GenesTable",components:{DataDisplayTable:me,CurationModal:ot,DataExport:vt},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.iH)(1),n=(0,c.iH)(10),r=(0,d.v0)(),i=(0,c.iH)(null),l=(0,c.iH)(!1),s=(0,c.iH)({}),u=(0,o.Fl)((()=>!!i.value)),m=(0,o.Fl)((()=>Object.keys(e.value).length)),p=(0,o.Fl)((()=>{const t=(a.value-1)*n.value,o=t+n.value;return Object.values(e.value).slice(t,o)})),g=[{title:"Approved Symbol",value:"approved_symbol"},{title:"Evidence count",value:"evidence_count"},{title:"Actions",value:"actions",sortable:!1}],v={columns:[{name:"approved_symbol",type:"link",to:e=>`/gene/${e.hgnc_id}`},{name:"evidence_count",type:"text"},{name:"actions",type:"slot",slotName:"action-slot"}]},f=e=>{s.value=e,l.value=!0},w=()=>{l.value=!1},h=e=>{console.log("Saving data:",e)},b=e=>{console.log("Action for item:",e)},y=e=>{a.value=e},_=e=>{n.value=e};return(0,o.bv)((async()=>{t.value=!0,e.value=await fe(),t.value=!1})),(0,d.Aj)(r,(e=>{i.value=e})),{headers:g,paginatedItems:p,tableConfig:v,totalItems:m,loading:t,isLoggedIn:u,showModal:l,selectedItem:s,openModal:f,closeModal:w,saveData:h,updatePage:y,updateItemsPerPage:_,handleAction:b}}};const wt=(0,x.Z)(ft,[["render",ie]]);var ht=wt;const bt=(0,o._)("h1",null,"Admin Panel: Gene Management",-1),yt=(0,o._)("h2",null,"Gene Admin",-1),_t={key:0},kt=(0,o._)("h2",null,"Administrative Controls",-1);function Ct(e,t,a,n,r,i){const l=(0,o.up)("v-file-input"),s=(0,o.up)("v-btn"),u=(0,o.up)("v-switch"),c=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[bt,(0,o._)("section",null,[yt,(0,o.Wm)(l,{label:"Gene Admin",onChange:n.handleFileUpload,accept:".csv"},null,8,["onChange"]),(0,o.Wm)(s,{onClick:n.uploadData,disabled:!n.csvFile},{default:(0,o.w5)((()=>[(0,o.Uk)("Upload Data")])),_:1},8,["onClick","disabled"])]),(0,o.Wm)(u,{modelValue:n.overwriteSettings,"onUpdate:modelValue":t[0]||(t[0]=e=>n.overwriteSettings=e),label:`Overwrite existing genes: ${n.overwriteSettings}`},null,8,["modelValue","label"]),n.isAdmin?((0,o.wg)(),(0,o.iD)("section",_t,[kt,(0,o.Wm)(s,{color:"error",onClick:n.confirmDeletion},{default:(0,o.w5)((()=>[(0,o.Uk)("Delete All Genes")])),_:1},8,["onClick"])])):(0,o.kq)("",!0)])),_:1})}var Wt={name:"UploadGenes",setup(){const e=(0,c.iH)(null),t=(0,c.iH)(!0),a=(0,c.iH)(!1),n=t=>{e.value=t.target.files[0]},o=async()=>{if(e.value){const t=new FileReader;t.onload=async e=>{const t=e.target.result;try{const e=await he(t,["hgnc_id"],a.value);console.log(e)}catch(n){console.error("Error uploading CSV:",n)}},t.readAsText(e.value)}},r=()=>{confirm("Are you sure you want to delete ALL gene data? This action cannot be undone.")&&be()};return{csvFile:e,handleFileUpload:n,uploadData:o,isAdmin:t,overwriteSettings:a,confirmDeletion:r}}};const Vt=(0,x.Z)(Wt,[["render",Ct]]);var Dt=Vt;function It(e,t,a,n,r,i){const l=(0,o.up)("GeneDetailCard"),s=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(s,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{id:a.id,visibilityScope:"standardView"},null,8,["id"])])),_:1})}var Ut={components:{GeneDetailCard:Ae},props:{id:String}};const xt=(0,x.Z)(Ut,[["render",It]]);var Pt=xt;const St=(0,o._)("div",{class:"login-divider"}," OR ",-1);function At(e,t,a,n,r,i){const l=(0,o.up)("v-card-title"),s=(0,o.up)("v-text-field"),u=(0,o.up)("v-btn"),c=(0,o.up)("v-form"),d=(0,o.up)("v-card-text"),m=(0,o.up)("v-card"),p=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1}),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{label:"Email",modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),type:"email",required:""},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Password",modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",required:""},null,8,["modelValue"]),(0,o.Wm)(u,{onClick:i.loginWithEmail},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1},8,["onClick"]),(0,o.Wm)(u,{text:"",onClick:i.navigateToRegister},{default:(0,o.w5)((()=>[(0,o.Uk)(" Don't have an account? Register ")])),_:1},8,["onClick"]),St,(0,o.Wm)(u,{onClick:i.signInWithGoogle,color:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("Login with Google")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})}const Et={signInWithGoogle:async()=>{try{const e=new d.hJ,t=await(0,d.rh)(k,e);await jt(t.user);const a=await I(t.user.email);return a}catch(e){throw console.error(e),e}},registerWithEmail:async(e,t)=>{try{const a=await(0,d.Xb)(k,e,t);await jt(a.user);const n=await I(a.user.email);return n}catch(a){throw console.error(a),a}},loginWithEmail:async(e,t)=>{try{const a=await(0,d.e5)(k,e,t),n=await I(a.user.email);return n}catch(a){throw console.error(a),a}},signOut:async()=>{try{await(0,d.w7)(k)}catch(e){throw console.error(e),e}}};async function jt(e){const t=await I(e.email);if(!t){const t=await W(),a=0===Object.keys(t).length,n=a?"admin":"viewer";await V({uid:e.uid,email:e.email,role:n,createdAt:new Date,updatedAt:new Date},e.uid)}}var Ot=Et,Ht={name:"LoginUser",data(){return{email:"",password:""}},setup(){const e=(0,m.tv)();return{router:e}},methods:{async loginWithEmail(){try{const e=await Ot.loginWithEmail(this.email,this.password);this.saveUserToLocalStorage(e),this.router.push("/")}catch(e){console.error(e)}},async signInWithGoogle(){try{const e=await Ot.signInWithGoogle();this.saveUserToLocalStorage(e),this.router.push("/")}catch(e){console.error(e)}},navigateToRegister(){this.router.push("/register")},saveUserToLocalStorage(e){e&&(localStorage.setItem("user",JSON.stringify({email:e.email,displayName:e.displayName||e.email})),localStorage.setItem("isLoggedIn","true"))}}};const Tt=(0,x.Z)(Ht,[["render",At]]);var Gt=Tt;function qt(e,t,a,n,r,l){const s=(0,o.up)("v-card-title"),u=(0,o.up)("v-text-field"),c=(0,o.up)("v-btn"),d=(0,o.up)("v-form"),m=(0,o.up)("v-card-text"),p=(0,o.up)("v-card"),g=(0,o.up)("v-container"),v=(0,o.up)("v-snackbar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{label:"Email",modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),type:"email",required:""},null,8,["modelValue"]),(0,o.Wm)(u,{label:"Password",modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",required:""},null,8,["modelValue"]),(0,o.Wm)(c,{onClick:l.register},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(v,{modelValue:r.snackbarVisible,"onUpdate:modelValue":t[2]||(t[2]=e=>r.snackbarVisible=e),color:r.snackbarColor,timeout:6e3},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(r.snackbarMessage),1)])),_:1},8,["modelValue","color"])],64)}var Ft={name:"RegisterUser",data(){return{email:"",password:"",snackbarVisible:!1,snackbarMessage:"",snackbarColor:"info"}},methods:{displaySnackbar(e,t){this.snackbarMessage=e,this.snackbarColor=t,this.snackbarVisible=!0},async register(){try{const e=await Ot.registerWithEmail(this.email,this.password);console.log(e),this.displaySnackbar("Registration successful! Redirecting...","success"),setTimeout((()=>{this.$router.push("/login")}),3e3)}catch(e){this.displaySnackbar(e.message,"error")}}}};const Lt=(0,x.Z)(Ft,[["render",qt]]);var Mt=Lt;const zt=(0,o._)("strong",null,"Name:",-1),Nt=(0,o._)("strong",null,"Email:",-1),Rt=(0,o._)("strong",null,"Role:",-1),$t={key:0},Jt=(0,o._)("p",null,[(0,o._)("strong",null,"Permissions:")],-1);function Zt(e,t,a,n,r,l){const s=(0,o.up)("v-card-title"),u=(0,o.up)("v-card-text"),c=(0,o.up)("v-card"),d=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Uk)("User Information")])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("p",null,[zt,(0,o.Uk)(" "+(0,i.zw)(n.userData.displayName||n.userData.email),1)]),(0,o._)("p",null,[Nt,(0,o.Uk)(" "+(0,i.zw)(n.userData.email),1)]),(0,o._)("p",null,[Rt,(0,o.Uk)(" "+(0,i.zw)(n.userData.role),1)]),n.userData.permissions?((0,o.wg)(),(0,o.iD)("div",$t,[Jt,(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.userData.permissions,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t},(0,i.zw)(t)+": "+(0,i.zw)(e?"Yes":"No"),1)))),128))])])):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1})}var Kt={name:"UserPage",setup(){const e=(0,d.v0)(),t=(0,c.iH)({});return(0,o.bv)((async()=>{if(e.currentUser)try{const a=await I(e.currentUser.email);t.value={...a,displayName:e.currentUser.displayName}}catch(a){console.error("Error fetching user data:",a)}})),{userData:t}}};const Bt=(0,x.Z)(Kt,[["render",Zt]]);var Yt=Bt;const Qt=e=>((0,o.dD)("data-v-3e2e1166"),e=e(),(0,o.Cn)(),e),Xt=Qt((()=>(0,o._)("p",null,"You do not have permission to view this page.",-1)));function ea(e,t,a,n,r,i){const l=(0,o.up)("v-card-title"),s=(0,o.up)("v-btn"),u=(0,o.up)("v-card-text"),c=(0,o.up)("v-card"),d=(0,o.up)("v-col"),m=(0,o.up)("v-row"),p=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{justify:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{cols:"12",md:"8"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"text-h5"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Not Authorized ")])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[Xt,(0,o.Wm)(s,{color:"primary",onClick:i.goBack},{default:(0,o.w5)((()=>[(0,o.Uk)("Go Back")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var ta={name:"NotAuthorized",methods:{goBack(){this.$router.push("/")}}};const aa=(0,x.Z)(ta,[["render",ea],["__scopeId","data-v-3e2e1166"]]);var na=aa;const oa=e=>((0,o.dD)("data-v-3a68d176"),e=e(),(0,o.Cn)(),e),ra=oa((()=>(0,o._)("p",null,"The page you are looking for does not exist or has been moved.",-1)));function ia(e,t,a,n,r,i){const l=(0,o.up)("v-card-title"),s=(0,o.up)("v-btn"),u=(0,o.up)("v-card-text"),c=(0,o.up)("v-card"),d=(0,o.up)("v-col"),m=(0,o.up)("v-row"),p=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{justify:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{cols:"12",md:"8"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"text-h5"},{default:(0,o.w5)((()=>[(0,o.Uk)(" 404: Page Not Found ")])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[ra,(0,o.Wm)(s,{color:"primary",onClick:i.goHome},{default:(0,o.w5)((()=>[(0,o.Uk)("Go Home")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var la={name:"PageNotFound",methods:{goHome(){this.$router.push("/")}}};const sa=(0,x.Z)(la,[["render",ia],["__scopeId","data-v-3a68d176"]]);var ua=sa;const ca=(0,o._)("h1",null,"User Administration",-1);function da(e,t,a,n,r,i){const l=(0,o.up)("v-select"),s=(0,o.up)("DataDisplayTable"),u=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[ca,(0,o.Wm)(s,{headers:n.headers,items:n.paginatedUsers,config:n.tableConfig,"total-items":n.totalUsers,loading:n.loading},{"role-slot":(0,o.w5)((({item:e})=>[(0,o.Wm)(l,{items:["admin","curator","viewer"],modelValue:e.role,"onUpdate:modelValue":[t=>e.role=t,t=>n.updateUserRole(e,t)],dense:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1},8,["headers","items","config","total-items","loading"])])),_:1})}var ma={name:"UserAdminView",components:{DataDisplayTable:me},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.iH)(1),n=(0,c.iH)(10);(0,o.bv)((async()=>{t.value=!0,e.value=await W(),t.value=!1}));const r=(0,o.Fl)((()=>Object.keys(e.value).length)),i=(0,o.Fl)((()=>{const t=(a.value-1)*n.value,o=t+n.value;return Object.values(e.value).slice(t,o)})),l=[{title:"User ID",value:"uid"},{title:"Email",value:"email"},{title:"Created Date",value:"createdAt"},{title:"Role",value:"role"}],s={columns:[{name:"name",type:"text"},{name:"email",type:"text"},{name:"createdAt",type:"date"},{name:"role",type:"slot",slotName:"role-slot"}]},u=async(e,t)=>{try{const a=C[t];await D(e.id,{role:t,permissions:a}),e.role=t}catch(a){console.error("Error updating user role:",a)}};return{users:e,loading:t,headers:l,paginatedUsers:i,totalUsers:r,tableConfig:s,updateUserRole:u}}};const pa=(0,x.Z)(ma,[["render",da]]);var ga=pa;const va=e=>((0,o.dD)("data-v-4da754e0"),e=e(),(0,o.Cn)(),e),fa=va((()=>(0,o._)("h1",null,"Pre-Curation Table",-1)));function wa(e,t,a,n,r,i){const l=(0,o.up)("v-btn"),s=(0,o.up)("DataDisplayTable"),u=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[fa,(0,o.Wm)(s,{headers:n.headers,items:n.paginatedItems,config:n.tableConfig,"total-items":n.totalItems,loading:n.loading,onAction:n.handleAction,onPageChanged:n.updatePage,onItemsPerPageChanged:n.updateItemsPerPage},{"action-slot":(0,o.w5)((({item:t})=>[(0,o.Wm)(l,{color:"primary",onClick:a=>e.openModal(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("Edit")])),_:2},1032,["onClick"]),(0,o.Wm)(l,{color:"error",onClick:e=>n.deleteItem(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("Delete")])),_:2},1032,["onClick"])])),modal:(0,o.w5)((()=>[])),_:1},8,["headers","items","config","total-items","loading","onAction","onPageChanged","onItemsPerPageChanged"])])),_:1})}var ha={name:"PreCurationTable",components:{DataDisplayTable:me},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.iH)(1),n=(0,c.iH)(10),r=(0,o.Fl)((()=>Object.keys(e.value).length)),i=(0,o.Fl)((()=>{const t=(a.value-1)*n.value,o=t+n.value;return Object.values(e.value).slice(t,o)})),l=[{title:"Approved Symbol",value:"approved_symbol"},{title:"Decision",value:"decision"},{title:"Created",value:"createdAt"}],s={columns:[{name:"approved_symbol",type:"link",to:e=>`/gene/${e.hgnc_id}`},{name:"createdAt",type:"date"}]},u=e=>{a.value=e},d=e=>{n.value=e},m=(e,t)=>{console.log(`Action: ${e} for item:`,t)},p=async e=>{await Ge(e.id)};return(0,o.bv)((async()=>{t.value=!0,e.value=await je(),console.log("Precurations:",e.value),t.value=!1})),{headers:l,paginatedItems:i,tableConfig:s,totalItems:r,loading:t,updatePage:u,updateItemsPerPage:d,handleAction:m,deleteItem:p}}};const ba=(0,x.Z)(ha,[["render",wa],["__scopeId","data-v-4da754e0"]]);var ya=ba;const _a=e=>((0,o.dD)("data-v-119114c1"),e=e(),(0,o.Cn)(),e),ka=_a((()=>(0,o._)("h1",null,"Curation Table",-1)));function Ca(e,t,a,n,r,i){const l=(0,o.up)("v-btn"),s=(0,o.up)("DataDisplayTable"),u=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[ka,(0,o.Wm)(s,{headers:n.headers,items:n.paginatedItems,config:n.tableConfig,"total-items":n.totalItems,loading:n.loading,onAction:n.handleAction,onPageChanged:n.updatePage,onItemsPerPageChanged:n.updateItemsPerPage},{"action-slot":(0,o.w5)((({item:t})=>[(0,o.Wm)(l,{color:"primary",onClick:a=>e.openModal(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("Edit")])),_:2},1032,["onClick"]),(0,o.Wm)(l,{color:"error",onClick:e=>n.deleteItem(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("Delete")])),_:2},1032,["onClick"])])),modal:(0,o.w5)((()=>[])),_:1},8,["headers","items","config","total-items","loading","onAction","onPageChanged","onItemsPerPageChanged"])])),_:1})}var Wa={name:"CurationTable",components:{DataDisplayTable:me},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(!1),a=(0,c.iH)(1),n=(0,c.iH)(10),r=(0,o.Fl)((()=>Object.keys(e.value).length)),i=(0,o.Fl)((()=>{const t=(a.value-1)*n.value,o=t+n.value;return Object.values(e.value).slice(t,o)})),l=[{title:"Approved Symbol",value:"approved_symbol"},{title:"Verdict",value:"verdict"},{title:"Created",value:"createdAt"}],s={columns:[{name:"approved_symbol",type:"link",to:e=>`/gene/${e.hgnc_id}`},{name:"createdAt",type:"date"}]},u=e=>{a.value=e},d=e=>{n.value=e},m=(e,t)=>{console.log(`Action: ${e} for item:`,t)},p=async e=>{await Ye(e.id)};return(0,o.bv)((async()=>{t.value=!0,e.value=await Ze(),console.log("Curations:",e.value),t.value=!1})),{headers:l,paginatedItems:i,tableConfig:s,totalItems:r,loading:t,updatePage:u,updateItemsPerPage:d,handleAction:m,deleteItem:p}}};const Va=(0,x.Z)(Wa,[["render",Ca],["__scopeId","data-v-119114c1"]]);var Da=Va;const Ia=[{path:"/",name:"Home",component:Z},{path:"/about",name:"About",component:oe},{path:"/faq",name:"FAQ",component:X},{path:"/genes",name:"Genes",component:ht},{path:"/upload",name:"UploadGenes",component:Dt,meta:{requiresAuth:!0,requiredRole:["admin"]}},{path:"/gene/:id",name:"GeneDetail",component:Pt,props:!0},{path:"/login",name:"Login",component:Gt},{path:"/register",name:"Register",component:Mt},{path:"/user",name:"UserPage",component:Yt,meta:{requiresAuth:!0}},{path:"/useradmin",name:"UserAdminView",component:ga,meta:{requiresAuth:!0,requiredRole:["admin"]}},{path:"/not-authorized",name:"NotAuthorized",component:na},{path:"/:catchAll(.*)",name:"PageNotFound",component:ua},{path:"/precurations",name:"PreCuration",component:ya,meta:{requiresAuth:!0,requiredRole:["admin","curator"]}},{path:"/curations",name:"Curation",component:Da,meta:{requiresAuth:!0,requiredRole:["admin","curator"]}}],Ua=(0,m.p7)({history:(0,m.PO)("/gene-curator/"),routes:Ia});Ua.beforeEach((async(e,t,a)=>{const n=e.matched.some((e=>e.meta.requiresAuth)),o=e.meta.requiredRole,r=JSON.parse(localStorage.getItem("user"));if(n&&!r)a({name:"Login"});else if(n&&o)try{const e=await I(r.email);e&&o.includes(e.role)?a():a({name:"NotAuthorized"})}catch(i){console.error("Error fetching user role:",i),a({name:"NotAuthorized"})}else a()}));var xa=Ua,Pa=(a(9773),a(8957)),Sa=a(4926),Aa=a(8600);const Ea=(0,Pa.Rd)({components:Sa,directives:Aa,theme:{defaultTheme:"dark"}});(0,n.ri)(q).use(Ea).use(xa).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],r=e[c][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},a.d(r,i),r}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{269:"cdcdea15",297:"0acf226b",617:"0f178688"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="gene-curator:";a.l=function(n,o,r,i){if(e[n])e[n].push(o);else{var l,s;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+r){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+r),l.src=n),e[n]=[o];var m=function(t,a){l.onerror=l.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/gene-curator/"}(),function(){var e={143:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=r);var i=a.p+a.u(t),l=new Error,s=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,o[1](l)}};a.l(i,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,i=n[0],l=n[1],s=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(s)var c=s(a)}for(t&&t(n);u<i.length;u++)r=i[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkgene_curator"]=self["webpackChunkgene_curator"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3086)}));n=a.O(n)})();
//# sourceMappingURL=app.0d8399ac.js.map